<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Base learner: tune hyperparameters and retrieve the best model — fit_base_learner • beethoven</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Base learner: tune hyperparameters and retrieve the best model — fit_base_learner"><meta name="description" content="Multilayer perceptron model with different configurations of
hidden units, dropout, activation, and learning rate using brulee
and tidymodels. With proper settings, users can utilize graphics
processing units (GPU) to speed up the training process."><meta property="og:description" content="Multilayer perceptron model with different configurations of
hidden units, dropout, activation, and learning rate using brulee
and tidymodels. With proper settings, users can utilize graphics
processing units (GPU) to speed up the training process."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">beethoven</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/NIEHS/beethoven/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Base learner: tune hyperparameters and retrieve the best model</h1>
      <small class="dont-index">Source: <a href="https://github.com/NIEHS/beethoven/blob/main/R/base_learner.R" class="external-link"><code>R/base_learner.R</code></a></small>
      <div class="d-none name"><code>fit_base_learner.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Multilayer perceptron model with different configurations of
hidden units, dropout, activation, and learning rate using brulee
and tidymodels. With proper settings, users can utilize graphics
processing units (GPU) to speed up the training process.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fit_base_learner</span><span class="op">(</span></span>
<span>  rset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tune_grid_size <span class="op">=</span> <span class="fl">10L</span>,</span>
<span>  yvar <span class="op">=</span> <span class="st">"Arithmetic.Mean"</span>,</span>
<span>  xvar <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  drop_vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  normalize <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  metric <span class="op">=</span> <span class="st">"rmse"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-rset">rset<a class="anchor" aria-label="anchor" href="#arg-rset"></a></dt>
<dd><p>A space/time CV set generated from beethoven</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>The parsnip model object. Preferably generated from
<code>switch_model</code>.</p></dd>


<dt id="arg-tune-grid-size">tune_grid_size<a class="anchor" aria-label="anchor" href="#arg-tune-grid-size"></a></dt>
<dd><p>numeric(1), finetune grid size.</p></dd>


<dt id="arg-yvar">yvar<a class="anchor" aria-label="anchor" href="#arg-yvar"></a></dt>
<dd><p>The target variable.</p></dd>


<dt id="arg-xvar">xvar<a class="anchor" aria-label="anchor" href="#arg-xvar"></a></dt>
<dd><p>The predictor variables.</p></dd>


<dt id="arg-drop-vars">drop_vars<a class="anchor" aria-label="anchor" href="#arg-drop-vars"></a></dt>
<dd><p>character vector or numeric.
The variables to be dropped from the data.frame.</p></dd>


<dt id="arg-normalize">normalize<a class="anchor" aria-label="anchor" href="#arg-normalize"></a></dt>
<dd><p>logical(1). If <code>TRUE</code>, all numeric predictors are
normalized. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-metric">metric<a class="anchor" aria-label="anchor" href="#arg-metric"></a></dt>
<dd><p>character(1). The metric to be used for selecting the best.
Must be one of "rmse", "rsq", "mae". Default = "rmse"</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to be passed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The fitted workflow.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>LightGBM model is fitted at the defined rate (<code>r_subsample</code>) of
the input dataset by grid or Bayesian optimization search.
With proper settings, users can utilize graphics
processing units (GPU) to speed up the training process.</p>
<p>XGBoost model is fitted at the defined rate (<code>r_subsample</code>) of
the input dataset by grid or Bayesian optimization search.
With proper settings, users can utilize graphics
processing units (GPU) to speed up the training process.</p>
<p>Elastic net model is fitted at the defined rate (<code>r_subsample</code>) of
the input dataset by grid search or Bayesian optimization.</p><ul><li><p>MLP: Hyperparameters <code>hidden_units</code>, <code>dropout</code>, <code>activation</code>,
and <code>learn_rate</code> are tuned. <code>With tune_mode = "grid"</code>,
users can modify <code>learn_rate</code> explicitly, and other hyperparameters
will be predefined (56 combinations per <code>learn_rate</code> for mlp).</p></li>
<li><p>XGBoost: Hyperparameters <code>mtry</code>, <code>ntrees</code>, and <code>learn_rate</code> are
tuned. With <code>tune_mode = "grid"</code>,
users can modify <code>learn_rate</code> explicitly, and other hyperparameters
will be predefined (30 combinations per <code>learn_rate</code>).</p></li>
<li><p>LightGBM: Hyperparameters <code>mtry</code>, <code>ntrees</code>, and <code>learn_rate</code> are
tuned. With <code>tune_mode = "grid"</code>,
users can modify <code>learn_rate</code> explicitly, and other hyperparameters
will be predefined (30 combinations per <code>learn_rate</code>).</p></li>
<li><p>Elastic net: Hyperparameters <code>mixture</code> and <code>penalty</code> are tuned.</p></li>
</ul><p>Tuning is performed based on random grid search (size = 10).</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>tune package should be 1.2.0 or higher.
brulee, xgboost, and lightgbm should be installed with GPU support.
Grid search is not activated in this function, regardless of other parts'
description.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kyle Messier, Mitchell Manware, Insang Song, Eva Marques, Anisha Singh, Lara Clark, Mariana Alifa Kassien, Cavin Ward-Caviness.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

